# 4 总结

通过学习这门课程，让我对计算机组成原理课内所学的知识有了进一步的理解和运用，这是仅学习理论知识所无法得到的宝贵经验。

大体知识都已经在计算机组成原理中学习，真的到实践的时候细节会更多、更复杂，但也可以反过来去深刻的理解某些理论，使得学过的理论有了实践支撑。我想这就是“实践是理论的基础，即实践对理论具有决定作用；理论对实践有反作用，科学的理论对实践具有积极的指导作用”的道理吧。

让我感触比较深的有总线外设的部分。模仿实验一的 SoC，设计了类似的总线外设。

![总线外设规划图](../_images/%E6%80%BB%E7%BA%BF%E5%A4%96%E8%AE%BE%E8%A7%84%E5%88%92%E5%9B%BE.png)

其实在我学习总线这一章节的时候，并没有对总线有很清除的理解，虽然知道基本概念、分类、结构的基础知识，但是对总线的具体实现完全不理解，比如不明白为什么地址总线是指向 I/O 设备的，以这个问题为代表的诸多问题表现了我对总线的不理解，也让我在设计结构的时候一筹莫展，直到去看了实验一的 SoC，我才明白应该如何设计，并且在实现完成之后，我对基本的总线外设有了新的理解：

以 CPU 的视角来看，CPU 的 dram_we 是驱使外部器件读写的动力，addr 是区别外部设备的方法，read_data 和 write_data 是读写的数据。

之前没有总线外设的时候，CPU 是可以直接驱使 DRAM 读写的；在有了外设之后，为了区分 DRAM 和众多外设，才需要 BUS 来进行处理，此时的 dram_we 就不是原来的 DRAM 的读写使能了，而是和外部器件读写的请求，这个外部器件可以是 DRAM，也可以是外设；这个读写请求会和传来的地址一起，用于生成外部器件的读写使能（笼统说法），比如传来的是外设的地址，那么外设的使能（注意是使能不是读写使能）为 1，而 DRAM 的使能为 0，然后再用 dram_we 来觉决定读写使能。

至于怎么区分 DRAM 和外设，外设之间怎么区分，就是地址的作用。我去规定哪些地址是 DRAM 用的 ， 哪些地址又是哪些外设用的。

那么对于外设而言，addr 数据线毫无疑问的是指向外设的，因为 addr 的源头是 CPU；但是外设内部是可以对连接来的 addr 进行判断的，结合使能 io_en，就能判断是否是选中了自己。

当然现在设计的这个外设在写上略微的简单了点，还是很基础啦，距离功能较为完善的总线外设还有很远。

最后，虽然计组学的不是很好，但是我觉得这不妨碍我认真学这门实践课。全身心的投入到这门课里是一种很好的体验（对比：之前软件构造实践时间非常紧，设计也不完善，只做个半成品其实是很让人气馁的）；而且能够利用所学知识造一个简单的 CPU，难道这不酷吗？！

总之，学习这门课我收获了很多，也很感谢老师和同学的教导！